<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë¡œê·¸ì¸ - ë¯¸ë‹ˆ ë¸”ë¡œê·¸</title>
    <style>
        body { display: flex; justify-content: center; align-items: center; height: 100vh; background-color: #f5f5f5; margin: 0; font-family: sans-serif; }
        .card { background: white; padding: 40px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); text-align: center; width: 300px; }
        .user-btn { display: block; width: 100%; padding: 10px; margin-bottom: 5px; background: white; border: 1px solid #ddd; cursor: pointer; text-align: left; }
        .user-btn:hover { background-color: #f1f1f1; }
        .signup-btn { margin-top: 20px; color: #007bff; text-decoration: none; font-size: 14px; display: inline-block; }
    </style>
</head>
<body>
<div class="card">
    <h1>ğŸ‘‹ ë¡œê·¸ì¸</h1>
    <p style="color:#666; font-size:14px;">ì•„ì´ë””ë¥¼ í´ë¦­í•˜ë©´ ë¡œê·¸ì¸ë©ë‹ˆë‹¤.</p>

    <div id="user-list" style="text-align:left; max-height: 300px; overflow-y: auto;">
        ë¡œë”©ì¤‘...
    </div>

    <hr style="margin: 20px 0; border: 0; border-top: 1px solid #eee;">

    <div>
        ì•„ì§ ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”?<br>
        <a href="signup.html" class="signup-btn">ğŸ‘‰ íšŒì›ê°€ì… í•˜ëŸ¬ ê°€ê¸°</a>
    </div>
</div>

<script>
    const BASE_URL = '/api/v1';

    window.onload = loadUsers;

    async function loadUsers() {
        try {
            const res = await fetch(`${BASE_URL}/user`);
            const users = await res.json();
            const list = document.getElementById('user-list');
            list.innerHTML = '';

            if(users.length === 0) {
                list.innerHTML = '<div style="text-align:center; padding:20px; color:#999;">ë“±ë¡ëœ ìœ ì €ê°€ ì—†ìŠµë‹ˆë‹¤.<br>íšŒì›ê°€ì…ì„ ì§„í–‰í•´ì£¼ì„¸ìš”.</div>';
                return;
            }

            users.forEach(user => {
                const btn = document.createElement('button');
                btn.className = 'user-btn';
                btn.innerHTML = `ğŸ‘¤ <b>${user.name}</b> <small>(ID: ${user.id})</small>`;
                btn.onclick = () => {
                    localStorage.setItem('userId', user.id);
                    localStorage.setItem('userName', user.name);
                    location.href = 'feed.html';
                };
                list.appendChild(btn);
            });
        } catch (e) {
            document.getElementById('user-list').innerText = 'ì„œë²„ ì—°ê²° ì‹¤íŒ¨';
        }
    }
</script>
</body>
</html>